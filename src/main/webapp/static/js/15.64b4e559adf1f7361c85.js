webpackJsonp([15],{133:function(e,t,a){function o(e){a(234)}var s=a(18)(a(163),a(252),o,"data-v-2b4d5e50",null);e.exports=s.exports},163:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(44),s=a.n(o);t.default={data:function(){return{word:"",searchWord:"",orderBy:2,listLoading:!1,exportLoading:!1,tableData:[],editDialog:!1,eForm:{},currentPage:1,pageSize:20,total:0,tableTop:0}},props:["API"],computed:{tableMaxHeight:function(){return this.$store.commit("setTableMaxHeight",this.tableTop),this.$store.state.tableMaxHeight}},methods:{search:function(e){this.word=this.searchWord,this.currentPage=1,this.getList(this.word)},sortTable:function(){this.orderBy=1==this.orderBy?2:1,this.getList(this.word)},formatTime:function(e,t){return this.$common.getNowTime(e.handleTime&&e.handleTime.time)},getTime:function(e,t){return this.$common.getNowTime(e.handleTime)},formatType:function(e,t){return 1==e.type?"银行卡":2==e.type?"支付宝":3==e.type?"微信":"未知"},formatStatus:function(e,t){return 1==e.status?"申请中":2==e.status?"已通过":3==e.status?"已驳回":"未知"},editItem:function(e,t){var a=this,o={head:{account:JSON.parse(sessionStorage.getItem("zhizunbao_login")).userName,password:JSON.parse(sessionStorage.getItem("zhizunbao_login")).userPassword},body:{id:t.id}};this.$common._post("withdrawalsRecord/detail",o,this,function(e){a.editDialog=!0,a.eForm=s()({},e.withdrawalsRecord)})},deleteItem:function(e,t){var a={head:{account:JSON.parse(sessionStorage.getItem("zhizunbao_login")).userName,password:JSON.parse(sessionStorage.getItem("zhizunbao_login")).userPassword},body:{id:t.id}};this.$common.deleteItem(this.API+"withdrawalsRecord/delete",this,a)},changeAgree:function(e,t){var a=this;this.$confirm("是否确认修改?","提示",{}).then(function(){var e={head:{account:JSON.parse(sessionStorage.getItem("zhizunbao_login")).userName,password:JSON.parse(sessionStorage.getItem("zhizunbao_login")).userPassword},body:{id:t.id}};a.$common._post("withdrawalsRecord/agree",e,a,function(e){a.$message({type:"success",message:e.description}),a.getList(a.word)})}).catch(function(){})},changeReject:function(e,t){var a=this;this.$confirm("是否确认修改?","提示",{}).then(function(){var e={head:{account:JSON.parse(sessionStorage.getItem("zhizunbao_login")).userName,password:JSON.parse(sessionStorage.getItem("zhizunbao_login")).userPassword},body:{id:t.id}};a.$common._post("withdrawalsRecord/reject",e,a,function(e){a.$message({type:"success",message:e.description}),a.getList(a.word)})}).catch(function(){})},exportExc:function(){var e=this;this.exportLoading=!0;var t={head:{account:JSON.parse(sessionStorage.getItem("zhizunbao_login")).userName,password:JSON.parse(sessionStorage.getItem("zhizunbao_login")).userPassword},body:{}};this.$http.post(this.API+"exportExcelWithdrawalsRecord",t).then(function(t){e.exportLoading=!1;var t=t.body;"0"==t.body.result?location.href=t.body.fileUrl:e.$message(t.body.description)})},handleCurrentChange:function(e){this.currentPage=e,this.getList(this.word)},getList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.listLoading=!0;var a={head:{account:JSON.parse(sessionStorage.getItem("zhizunbao_login")).userName,password:JSON.parse(sessionStorage.getItem("zhizunbao_login")).userPassword},body:{pageIndex:this.currentPage,pageSize:this.pageSize,userId:t,orderBy:this.orderBy}};this.$common._post("withdrawalsRecord/list",a,this,function(t){e.total=t.total,e.tableData=t.list,e.listLoading=!1},function(t){e.listLoading=!1,e.tableData=[]})}},mounted:function(){if(!sessionStorage.getItem("zhizunbao_login"))return this.$message("请登录账号"),void this.$router.push("/");this.getList(),this.tableTop=document.querySelector("#main table").getBoundingClientRect().top}}},216:function(e,t,a){t=e.exports=a(130)(!0),t.push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"withdraw.vue",sourceRoot:""}])},234:function(e,t,a){var o=a(216);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a(131)("7d2b4844",o,!0)},252:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",[a("el-col",{staticClass:"search-bar"},[a("div",{staticClass:"w_200"},[a("el-input",{staticClass:"w_200",attrs:{placeholder:"请输入关键字",icon:"search","on-icon-click":e.search},model:{value:e.searchWord,callback:function(t){e.searchWord=t},expression:"searchWord"}})],1),e._v(" "),a("div",{staticClass:"m_l_20"},[a("el-button",{on:{click:e.sortTable}},[e._v(e._s(1==e.orderBy?"正":"倒")+"序排列")])],1),e._v(" "),a("div",{staticClass:"m_l_20"},[a("el-button",{attrs:{loading:e.exportLoading,icon:"document"},on:{click:e.exportExc}},[e._v("导出Excel")])],1)])],1),e._v(" "),a("el-row",[a("el-col",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticClass:"table",attrs:{data:e.tableData,border:"",width:"100%","max-height":e.tableMaxHeight}},[a("el-table-column",{attrs:{align:"center",label:"序号",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                        "+e._s(t.$index+1+e.pageSize*(e.currentPage-1))+"\n                    ")]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"withdrawalsRecordUuid",label:"打款流水号"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"userId",label:"用户ID"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"userName",label:"姓名"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"type",label:"提现方式",formatter:e.formatType}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"accountNumber",label:"提现账户"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"money",label:"金额"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"handleUuid",label:"负责人ID"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"状态",formatter:e.formatStatus}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"提现时间",width:"150",formatter:e.getTime}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作",width:"280"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"info"},on:{click:function(a){e.editItem(t.$index,t.row)}}},[e._v("查看")]),e._v(" "),a("el-button",{attrs:{disabled:1!=t.row.status,size:"small",type:"success"},on:{click:function(a){e.changeAgree(t.$index,t.row)}}},[e._v("通过")]),e._v(" "),a("el-button",{attrs:{disabled:1!=t.row.status,size:"small",type:"warning"},on:{click:function(a){e.changeReject(t.$index,t.row)}}},[e._v("驳回")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"danger",icon:"delete2"},on:{click:function(a){e.deleteItem(t.$index,t.row)}}},[e._v("删除")])]}}])})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",[a("div",{staticClass:"block pagination"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pageSize,layout:"prev, pager, next, jumper","page-count":e.total},on:{"update:currentPage":function(t){e.currentPage=t},"current-change":e.handleCurrentChange}})],1)])],1),e._v(" "),a("el-dialog",{staticClass:"edit dialog-info",attrs:{title:"查看详情",visible:e.editDialog},on:{"update:visible":function(t){e.editDialog=t}}},[a("div",{staticClass:"info-content"},[a("el-row",[a("el-col",{attrs:{span:12}},[e._v("\n                    提现账号："),a("span",[e._v(e._s(e.eForm.accountNumber))])]),e._v(" "),a("el-col",{attrs:{span:12}},[e._v("\n                    提现类型："),a("span",[e._v(e._s(1==e.eForm.accountType?"银行卡":2==e.eForm.accountType?"支付宝":3==e.eForm.accountType?"微信":"未知"))])]),e._v(" "),a("el-col",{attrs:{span:12}},[e._v("\n                    提现状态："),a("span",[e._v(e._s(1==e.eForm.applyStatus?"申请中":2==e.eForm.applyStatus?"已通过":3==e.eForm.applyStatus?"已驳回":"未知"))])]),e._v(" "),a("el-col",{attrs:{span:12}},[e._v("\n                    提现银行："),a("span",[e._v(e._s(e.eForm.bank))])]),e._v(" "),a("el-col",{attrs:{span:12}},[e._v("\n                    处理意见："),a("span",[e._v(e._s(e.eForm.handleDsp))])]),e._v(" "),a("el-col",{attrs:{span:12}},[e._v("\n                    处理时间："),a("span",[e._v(e._s(e.formatTime(e.eForm)))])]),e._v(" "),a("el-col",{attrs:{span:12}},[e._v("\n                    提现金额："),a("span",[e._v(e._s(e.eForm.money))])]),e._v(" "),a("el-col",{attrs:{span:12}},[e._v("\n                    银行卡开户人姓名："),a("span",[e._v(e._s(e.eForm.openAccountName))])])],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.editDialog=!1}}},[e._v("确 定")])],1)])],1)},staticRenderFns:[]}}});
//# sourceMappingURL=15.64b4e559adf1f7361c85.js.map